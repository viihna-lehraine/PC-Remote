services:
    nginx:
        build: ./nginx
        container_name: pc-remote-nginx
        ports:
            - '444:443'
        networks:
            - pc-remote-net
        restart: unless-stopped
        volumes:
            - /etc/ssl/projects/pc-remote/services/nginx/:/etc/nginx/certs/:ro
            - /etc/ssl/projects/pc-remote/ca/:/etc/nginx/ca/:ro
            - /home/viihna/Projects/pc-remote/logs/nginx:/var/log/nginx
            - type: bind
              source: /etc/ssl/projects/pc-remote/dhparam.pem
              target: /etc/dhparam.pem
              read_only: true
        extra_hosts:
            - 'host.docker.internal:host-gateway'

networks:
    pc-remote-net:
        external: true
